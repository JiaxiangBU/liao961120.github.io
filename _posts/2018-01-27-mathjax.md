---
layout: post
title: MathJax Setup
key: 20180127
tags:
- Web Page
- markdown
mathjax2: true
---
<!--more-->

## Add MathJax Support 

Add this to the header of every page to enable MathJax support. The code below alows supporting `$` and `$$` in Markdown.

```html
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
    </script>
<script type="text/javascript" async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
```

## Equation autoNumber
Add the code below to header if you want equation auto-numbering.
```html
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "all" } }
});
</script>
```

### Escape Numbering

Add `\notag` to the equations to escape auto-numbering, e.g.
```
$$\frac{d}{d\,t} N_{i}= b_{i} N_{i}\left[C S\right]_{i} - d_{i} N_{i}$$
```
gives
$$\frac{d}{d\,t} \,N_{i}= b_{i} N_{i}\left[C S\right]_{i} - d_{i} N_{i}$$

, and 
```
$$\frac{d}{d\,t} N_{i}= b_{i} N_{i}\left[C S\right]_{i} - d_{i} N_{i} \notag$$
```
gives
$$\frac{d}{d\,t} N_{i}= b_{i} N_{i}\left[C S\right]_{i} - d_{i} N_{i} \notag$$

### Equation Reference

Add `\label{eq:name}` to equation to give identifier. Use `$\eqref{eq:name}$` to reference the labled equation[^1].

#### Example
```
$$ \frac{d}{d\,t} N_{1} =\left[ b_{1} N_{1}\,\left( S_{2}\,c_{12}+S_{1}\,c_{11}\right)- d_{1} N_{1}\, \right] \label{eq:N}$$
```

$$\frac{d}{d\,t} N_{1} =\left[ b_{1} N_{1}\,\left( S_{2}\,c_{12}+S_{1}\,c_{11}\right)- d_{1} N_{1}\, \right] \label{eq:N}$$

<br>

Adding `$\eqref{eq:N}$` in the text gives, e.g, **See $\eqref{eq:N}$ for details.**


## GitHub Page Support
You can take a look at MathJax support of my page [here](https://github.com/liao961120/liao961120.github.io/blob/master/_includes/utils/), it's in the file `mathjax.html`.

`mathjax.html` includes two part. The first strats with 
```
{% if site.mathjax == true or page.mathjax == true %}
```
, and the code below it is the same as the code in [Add Mathjax Support](#add-mathjax-support).

The second starts with 
```
{% if site.mathjax2 == true or if page.mathjax2 == true %}
```
, and the code is same as the code in [Equation autoNumber](#equation-autonumber).

Note the variables `mathjax` and `mathjax2`[^2]. You can set them globally in `_config.yml`, or individually in the yaml header of each post/page. 

For example, I set the code below in `_config.yml`.
```
mathjax: true
mathjax2: false 
```
This allows mathjax support **without** equation auto-numbering to be the default setting of my site. When I want auto-numbering for some post (or page), I can set `mathjax2: true` in the yaml header of the post.


[^1]: Note that `\label` & `\notag` **can't** be used together.
[^2]: Which is in `site.mathjax`, `page.mathjax`, `site.mathjax2`, and `page.mathjax2`, and are all set to `true`.